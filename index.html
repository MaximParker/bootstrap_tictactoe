<!DOCTYPE html>
<html lang="en">

<head>
  <title>Tic-Tac-Toe</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>
    #board {
      display: block;
      max-width: 310px;
      margin: 20px;
    }

    .btn {
      width: 80px;
      height: 80px;
      margin: 2px;
      font-size: 30px;
    }
  </style>
</head>

<body>
  <div>
    <div id="board"></div>

    <p id="info-current-turn">⭕ to play</p>
    <p id="info-spaces-remaining">Spaces remaining: 9</p>
  </div>
  

  <script>
    let boardData = { '1x3': null, '2x3': null, '3x3': null, '1x2': null, '2x2': null, '3x2': null, '1x1': null, '2x1': null, '3x1': null }
    let playerTurn = ["⭕", "❌"]
    let turnsTaken = 0;

    function checkWinner(data) {
      if (turnsTaken >= 3) {
        console.log("Checking...")
      }
      return null;
    }

    // Render the board with listeners on each
    $.each(Object.keys(boardData), function () {
      let button = `<button id="space-${this}" class="btn"></button>`;
      $("#board").append(button);

      document.getElementById(`space-${this}`).addEventListener("click", function (e) {
        // Update the target button element
        document.getElementById(e.composedPath()[0].id).innerText = playerTurn[0];
        document.getElementById(e.composedPath()[0].id).setAttribute("disabled", "disabled")

        // Update boardData with the current move
        boardData[this] = playerTurn[0];

        if (checkWinner()) {
          console.log("Winner!")
        } else {
          // Sequence turns
          turnsTaken++;
          playerTurn.push(playerTurn.shift());
        }

        // Update info displays
        document.getElementById("info-spaces-remaining").innerText = `Spaces remaining: ${9-turnsTaken}`;
        document.getElementById("info-current-turn").innerText = `${playerTurn[0]} to play`;
      })
    })
  </script>

</body>

</html>